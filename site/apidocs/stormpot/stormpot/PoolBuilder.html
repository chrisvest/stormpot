<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Tue Nov 05 23:30:03 CET 2019 -->
<title>PoolBuilder (stormpot 3.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-11-05">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PoolBuilder (stormpot 3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PoolBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../module-summary.html">stormpot</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">stormpot</a></div>
<h2 title="Class PoolBuilder" class="title">Class PoolBuilder&lt;T extends <a href="Poolable.html" title="interface in stormpot">Poolable</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>stormpot.PoolBuilder&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The type of <a href="Poolable.html" title="interface in stormpot"><code>Poolable</code></a> objects that a <a href="Pool.html" title="class in stormpot"><code>Pool</code></a> based</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.Cloneable</code></dd>
</dl>
<hr>
<pre>public final class <span class="typeNameLabel">PoolBuilder&lt;T extends <a href="Poolable.html" title="interface in stormpot">Poolable</a>&gt;</span>
extends java.lang.Object
implements java.lang.Cloneable</pre>
<div class="block"><p>The <code>PoolBuilder</code> collects information about how big a pool should be,
and how it should allocate objects, an so on, and finally acts as the
factory for building the pool instances themselves, with the
<a href="#build()"><code>build()</code></a> method.</p>
<p>Pool builder instances are obtained by calling <a href="Pool.html#from(stormpot.Allocator)"><code>Pool.from(Allocator)</code></a>.</p>
<p>This class is made thread-safe by having the fields be protected by the
intrinsic object lock on the <code>PoolBuilder</code> object itself. This way, pools
can <code>synchronize</code> on the builder object to read the values out atomically.</p>
<p>The various set* methods are made to return the <code>PoolBuilder</code> instance
itself, so that the method calls may be chained if so desired.</p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Chris Vest &lt;<a href="mailto:mr.chrisvest@gmail.com">mr.chrisvest@gmail.com</a>&gt;</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Pool.html" title="class in stormpot">Pool</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build()">build</a></span>()</code></th>
<td class="colLast">
<div class="block">Build a <a href="Pool.html" title="class in stormpot"><code>Pool</code></a> instance based on the collected configuration.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clone()">clone</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a shallow copy of this <code>PoolBuilder</code> object.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Allocator.html" title="interface in stormpot">Allocator</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAllocator()">getAllocator</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the configured <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> instance.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBackgroundExpirationCheckDelay()">getBackgroundExpirationCheckDelay</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the default approximate delay, in milliseconds, between background
maintenance tasks, such as the background expiration checks and retrying
failed allocations.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="Expiration.html" title="interface in stormpot">Expiration</a>&lt;? super <a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpiration()">getExpiration</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the configured <a href="Expiration.html" title="interface in stormpot"><code>Expiration</code></a> instance.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="MetricsRecorder.html" title="interface in stormpot">MetricsRecorder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetricsRecorder()">getMetricsRecorder</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the configured <a href="MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> instance, or null if none has
been configured.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="Reallocator.html" title="interface in stormpot">Reallocator</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReallocator()">getReallocator</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the configured <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> instance as a
<a href="Reallocator.html" title="interface in stormpot"><code>Reallocator</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSize()">getSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the currently configured size.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.concurrent.ThreadFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getThreadFactory()">getThreadFactory</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the ThreadFactory that has been configured, and will be used to create
the background allocation threads for the pools.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isBackgroundExpirationEnabled()">isBackgroundExpirationEnabled</a></span>()</code></th>
<td class="colLast">
<div class="block">Return whether or not background expiration is enabled.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isPreciseLeakDetectionEnabled()">isPreciseLeakDetectionEnabled</a></span>()</code></th>
<td class="colLast">
<div class="block">Return whether or not precise object leak detection is enabled, which is
the case by default.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;X extends <a href="Poolable.html" title="interface in stormpot">Poolable</a>&gt;<br><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;X&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAllocator(stormpot.Allocator)">setAllocator</a></span>&#8203;(<a href="Allocator.html" title="interface in stormpot">Allocator</a>&lt;X&gt;&nbsp;allocator)</code></th>
<td class="colLast">
<div class="block">Set the <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> or <a href="Reallocator.html" title="interface in stormpot"><code>Reallocator</code></a> to use for the pools we
want to configure.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBackgroundExpirationCheckDelay(int)">setBackgroundExpirationCheckDelay</a></span>&#8203;(int&nbsp;delay)</code></th>
<td class="colLast">
<div class="block">Set the approximate delay, in milliseconds, between background maintenance tasks.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBackgroundExpirationEnabled(boolean)">setBackgroundExpirationEnabled</a></span>&#8203;(boolean&nbsp;enabled)</code></th>
<td class="colLast">
<div class="block">Enable or disable background object expiration checking.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setExpiration(stormpot.Expiration)">setExpiration</a></span>&#8203;(<a href="Expiration.html" title="interface in stormpot">Expiration</a>&lt;? super <a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;expiration)</code></th>
<td class="colLast">
<div class="block">Set the <a href="Expiration.html" title="interface in stormpot"><code>Expiration</code></a> to use for the pools we want to
configure.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMetricsRecorder(stormpot.MetricsRecorder)">setMetricsRecorder</a></span>&#8203;(<a href="MetricsRecorder.html" title="interface in stormpot">MetricsRecorder</a>&nbsp;metricsRecorder)</code></th>
<td class="colLast">
<div class="block">Set the <a href="MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> to use for the pools we want to configure.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPreciseLeakDetectionEnabled(boolean)">setPreciseLeakDetectionEnabled</a></span>&#8203;(boolean&nbsp;enabled)</code></th>
<td class="colLast">
<div class="block">Enable or disable precise object leak detection.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSize(int)">setSize</a></span>&#8203;(int&nbsp;size)</code></th>
<td class="colLast">
<div class="block">Set the size of the pool we are building.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setThreadFactory(java.util.concurrent.ThreadFactory)">setThreadFactory</a></span>&#8203;(java.util.concurrent.ThreadFactory&nbsp;factory)</code></th>
<td class="colLast">
<div class="block">Set the ThreadFactory that the pools will use to create its background
threads with.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSize</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setSize&#8203;(int&nbsp;size)</pre>
<div class="block"><p>Set the size of the pool we are building.</p>
<p>Pools are required to control the allocations and deallocations, such that
no more than this number of objects are allocated at any time.</p>
<p>This means that a pool of size 1, whose single object have expired, will
deallocate that one object before allocating a replacement.</p>
<p>The size must be at least one, or an <code>IllegalArgumentException</code> will
be thrown when building the pool.</p>
<p>Note that the pool size can be modified after the pool has been built, by
calling the <a href="Pool.html#setTargetSize(int)"><code>Pool.setTargetSize(int)</code></a> or
<a href="ManagedPool.html#setTargetSize(int)"><code>ManagedPool.setTargetSize(int)</code></a> methods.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - The target pool size. Must be at least 1.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getSize()</pre>
<div class="block"><p>Get the currently configured size. The default is 10.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configured pool size.</dd>
</dl>
</li>
</ul>
<a id="setAllocator(stormpot.Allocator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllocator</h4>
<pre class="methodSignature">public&nbsp;&lt;X extends <a href="Poolable.html" title="interface in stormpot">Poolable</a>&gt;&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;X&gt;&nbsp;setAllocator&#8203;(<a href="Allocator.html" title="interface in stormpot">Allocator</a>&lt;X&gt;&nbsp;allocator)</pre>
<div class="block"><p>Set the <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> or <a href="Reallocator.html" title="interface in stormpot"><code>Reallocator</code></a> to use for the pools we
want to configure. This will change the type-parameter of the <code>PoolBuilder</code>
object to match that of the new Allocator.</p>
<p>The allocator is initially specified by the <a href="Pool.html#from(stormpot.Allocator)"><code>Pool.from(Allocator)</code></a>
method, so there is usually no need to set it later.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>X</code> - The type of <a href="Poolable.html" title="interface in stormpot"><code>Poolable</code></a> that is created by the allocator,</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocator</code> - The allocator we want our pools to use.
This cannot be <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance, but with a generic type parameter that
matches that of the allocator.</dd>
</dl>
</li>
</ul>
<a id="getAllocator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocator</h4>
<pre class="methodSignature">public&nbsp;<a href="Allocator.html" title="interface in stormpot">Allocator</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;getAllocator()</pre>
<div class="block"><p>Get the configured <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> instance.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configured Allocator instance.</dd>
</dl>
</li>
</ul>
<a id="getReallocator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReallocator</h4>
<pre class="methodSignature">public&nbsp;<a href="Reallocator.html" title="interface in stormpot">Reallocator</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;getReallocator()</pre>
<div class="block"><p>Get the configured <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> instance as a
<a href="Reallocator.html" title="interface in stormpot"><code>Reallocator</code></a>. If the configured allocator implements the
Reallocator interface, then it is returned directly. Otherwise, the
allocator is wrapped in an adaptor.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A configured or adapted Reallocator.</dd>
</dl>
</li>
</ul>
<a id="setExpiration(stormpot.Expiration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiration</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setExpiration&#8203;(<a href="Expiration.html" title="interface in stormpot">Expiration</a>&lt;? super <a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;expiration)</pre>
<div class="block"><p>Set the <a href="Expiration.html" title="interface in stormpot"><code>Expiration</code></a> to use for the pools we want to
configure. The Expiration determines when a pooled object is valid
for claiming, or when the objects are invalid and should be deallocated.</p>
<p>The default Expiration is an
<a href="Expiration.html#after(long,long,java.util.concurrent.TimeUnit)"><code>Expiration.after(long, long, TimeUnit)</code></a> that invalidates the
objects after they have been active for somewhere between 8 to 10 minutes.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expiration</code> - The expiration we want our pools to use. Not null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="getExpiration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiration</h4>
<pre class="methodSignature">public&nbsp;<a href="Expiration.html" title="interface in stormpot">Expiration</a>&lt;? super <a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;getExpiration()</pre>
<div class="block"><p>Get the configured <a href="Expiration.html" title="interface in stormpot"><code>Expiration</code></a> instance. The default is a
<a href="Expiration.html#after(long,long,java.util.concurrent.TimeUnit)"><code>Expiration.after(long, long, TimeUnit)</code></a> that expires objects after
somewhere between 8 to 10 minutes.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configured Expiration.</dd>
</dl>
</li>
</ul>
<a id="setMetricsRecorder(stormpot.MetricsRecorder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMetricsRecorder</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setMetricsRecorder&#8203;(<a href="MetricsRecorder.html" title="interface in stormpot">MetricsRecorder</a>&nbsp;metricsRecorder)</pre>
<div class="block"><p>Set the <a href="MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> to use for the pools we want to configure.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metricsRecorder</code> - The MetricsRecorder to use, or null if we don&#8217;t
                       want to use any.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="getMetricsRecorder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetricsRecorder</h4>
<pre class="methodSignature">public&nbsp;<a href="MetricsRecorder.html" title="interface in stormpot">MetricsRecorder</a>&nbsp;getMetricsRecorder()</pre>
<div class="block"><p>Get the configured <a href="MetricsRecorder.html" title="interface in stormpot"><code>MetricsRecorder</code></a> instance, or null if none has
been configured.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configured MetricsRecorder.</dd>
</dl>
</li>
</ul>
<a id="getThreadFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThreadFactory</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.ThreadFactory&nbsp;getThreadFactory()</pre>
<div class="block"><p>Get the ThreadFactory that has been configured, and will be used to create
the background allocation threads for the pools. The default is similar to
the <code>Executors.defaultThreadFactory()</code>, except
the string "Stormpot-" is prepended to the thread name.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configured thread factory.</dd>
</dl>
</li>
</ul>
<a id="setThreadFactory(java.util.concurrent.ThreadFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setThreadFactory</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setThreadFactory&#8203;(java.util.concurrent.ThreadFactory&nbsp;factory)</pre>
<div class="block"><p>Set the ThreadFactory that the pools will use to create its background
threads with. The ThreadFactory is not allowed to be null, and creating
a pool with a null ThreadFactory will throw an IllegalArgumentException.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>factory</code> - The ThreadFactory the pool should use to create their
               background threads.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="isPreciseLeakDetectionEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPreciseLeakDetectionEnabled</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isPreciseLeakDetectionEnabled()</pre>
<div class="block"><p>Return whether or not precise object leak detection is enabled, which is
the case by default.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if precise object leak detection is enabled.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setPreciseLeakDetectionEnabled(boolean)"><code>setPreciseLeakDetectionEnabled(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="setPreciseLeakDetectionEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPreciseLeakDetectionEnabled</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setPreciseLeakDetectionEnabled&#8203;(boolean&nbsp;enabled)</pre>
<div class="block"><p>Enable or disable precise object leak detection. It is enabled by default.
Precise object leak detection makes the pool keep an eye on the allocated
Poolables, such that it notices if they get garbage collected without
first being deallocated. Using the garbage collector for this purpose,
means that no false positives (counting objects as leaked, even though
they are not) are ever reported.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<p>While the pool is able to detect object leaks, it cannot prevent
them. All leaks are a sign that there is a bug in the system; most likely
a bug in your code, or in the way the pool is used.</p>
</td>
</tr>
</table>
</div>
<p>Precise object leak detection incurs virtually no overhead, and is safe to
leave enabled at all times â€“ even in the most demanding production
environments.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enabled</code> - <code>true</code> to turn on precise object leak detection (the
               default) <code>false</code> to turn it off.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="isBackgroundExpirationEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBackgroundExpirationEnabled</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isBackgroundExpirationEnabled()</pre>
<div class="block"><p>Return whether or not background expiration is enabled.
By default, background expiration is enabled.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if background expiration is enabled.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setBackgroundExpirationEnabled(boolean)"><code>setBackgroundExpirationEnabled(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="setBackgroundExpirationEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBackgroundExpirationEnabled</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setBackgroundExpirationEnabled&#8203;(boolean&nbsp;enabled)</pre>
<div class="block"><p>Enable or disable background object expiration checking. This is enabled
by default, but can be turned off if the check is expensive.
The cost of the check matters because it might end up taking resources
away from the background thread and hinder its ability to keep up with the
demand for allocations and deallocations, even though these tasks always
take priority over any expiration checking.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enabled</code> - <code>true</code> (the default) to turn background expiration checking on,
              <code>false</code> to turn it off.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="getBackgroundExpirationCheckDelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBackgroundExpirationCheckDelay</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getBackgroundExpirationCheckDelay()</pre>
<div class="block"><p>Return the default approximate delay, in milliseconds, between background
maintenance tasks, such as the background expiration checks and retrying
failed allocations.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the delay, in milliseconds, between background maintenance tasks.</dd>
</dl>
</li>
</ul>
<a id="setBackgroundExpirationCheckDelay(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBackgroundExpirationCheckDelay</h4>
<pre class="methodSignature">public&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;setBackgroundExpirationCheckDelay&#8203;(int&nbsp;delay)</pre>
<div class="block"><p>Set the approximate delay, in milliseconds, between background maintenance tasks.
These tasks include the background expiration checks, and retrying failed allocations.</p>
<p>The default delay is 1.000 milliseconds (1 second). Lowering this value will
improve the pools responsiveness to repairing failed allocations, and also increase
the frequency of the background expiration checks. This comes at the cost of higher
idle CPU usage.</p>
<p>It is not recommended to set this value lower than 100 milliseconds. Values lower
than this tend to have increased CPU and power usage, for very little gain in
responsiveness for the background tasks.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delay</code> - the desired delay, in milliseconds, between background maintenance tasks.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This <code>PoolBuilder</code> instance.</dd>
</dl>
</li>
</ul>
<a id="clone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre class="methodSignature">public final&nbsp;<a href="PoolBuilder.html" title="class in stormpot">PoolBuilder</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;clone()</pre>
<div class="block"><p>Returns a shallow copy of this <code>PoolBuilder</code> object.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new <code>PoolBuilder</code> object of the exact same type as this one, with
identical values in all its fields.</dd>
</dl>
</li>
</ul>
<a id="build()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>build</h4>
<pre class="methodSignature">public&nbsp;<a href="Pool.html" title="class in stormpot">Pool</a>&lt;<a href="PoolBuilder.html" title="type parameter in PoolBuilder">T</a>&gt;&nbsp;build()</pre>
<div class="block"><p>Build a <a href="Pool.html" title="class in stormpot"><code>Pool</code></a> instance based on the collected configuration.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="Pool.html" title="class in stormpot"><code>Pool</code></a> instance as configured by this builder.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PoolBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011-2019&#x2013;2019. All rights reserved.</small></p>
</footer>
</body>
</html>
